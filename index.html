<!DOCTYPE html>
<html>
<head>
  <title>Laberinto</title>
  <style>
    #game-container {
      position: relative;
      width: 100%;
      padding-bottom: 100%; /* Proporción 1:1 */
      background: url(laberinto.jpg) no-repeat center center;
      background-size: cover;
    }

    #character {
      position: absolute;
      top: 10%; /* Posición inicial en el eje Y dentro de los límites del juego */
      left: 10%; /* Posición inicial en el eje X dentro de los límites del juego */
      width: 4%; /* Ancho relativo del personaje */
      padding-bottom: 4%; /* Alto relativo del personaje (mantiene la proporción) */
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      animation: moveAnimation 0.4s steps(4) infinite;
    }

    @keyframes moveAnimation {
      0%, 100% { background-position-x: 0%; }
      25% { background-position-x: 25%; }
      50% { background-position-x: 50%; }
      75% { background-position-x: 75%; }
    }

    #fall-zone {
      position: absolute;
      top: 0%; /* Coordenada Y de la zona de caída */
      left: 17%; /* Coordenada X de la zona de caída */
      width: 20%; /* Ancho de la zona de caída */
      height: 10%; /* Alto de la zona de caída */
      background-color: rgba(128, 128, 128, 0.5); /* Color de fondo semi-transparente gris */
    }
  </style>
</head>
<body>
  <div id="game-container">
    <div id="character" style="background-image: url(charidleHOR.png);"></div>
    <div id="fall-zone"></div>
  </div>

  <script>
    // Variable para controlar si el personaje puede moverse
    var canMove = true;

    // Variables para el personaje
    var character = document.getElementById('character');
    var characterX = 10; // Posición inicial del personaje en el eje X dentro de los límites del juego
    var characterY = 10; // Posición inicial del personaje en el eje Y dentro de los límites del juego

    // Variables para la zona de caída
    var fallZone = document.getElementById('fall-zone');

    // Función para mover el personaje
    function moveCharacter(direction) {
      if (!canMove) return; // Si el personaje no puede moverse, no hacer nada

      var step = 1; // Desplazamiento relativo en píxeles
      var duration = 200; // Duración de cada paso de la animación en milisegundos

      // Resto del código...

    }

    // Función para verificar colisión con la zona de caída
    function checkCollision() {
      var characterLeft = character.offsetLeft;
      var characterRight = character.offsetLeft + character.offsetWidth;
      var characterTop = character.offsetTop;
      var characterBottom = character.offsetTop + character.offsetHeight;

      var fallZoneLeft = fallZone.offsetLeft;
      var fallZoneRight = fallZone.offsetLeft + fallZone.offsetWidth;
      var fallZoneTop = fallZone.offsetTop;
      var fallZoneBottom = fallZone.offsetTop + fallZone.offsetHeight;

      if (
        characterRight > fallZoneLeft &&
        characterLeft < fallZoneRight &&
        characterBottom > fallZoneTop &&
        characterTop < fallZoneBottom
      ) {
        // El personaje ha colisionado con la zona de caída
        // Aquí puedes realizar las acciones correspondientes al perder el juego, como desactivar el movimiento y reducir el tamaño gradualmente

        canMove = false; // Desactivar el movimiento del personaje

        // Resto del código...

      }
    }

    // Función para reiniciar el juego
    function resetGame() {
      characterX = 10;
      characterY = 10;
      character.style.left = characterX + '%';
      character.style.top = characterY + '%';

      character.style.width = '4%'; // Restaurar el ancho original del personaje
      character.style.paddingBottom = '4%'; // Restaurar el alto original del personaje

      character.style.animation = 'moveAnimation 0.4s steps(4) infinite';
      character.style.backgroundImage = 'url(charidleHOR.png)';

      canMove = true; // Reactivar el movimiento del personaje

      // Resto del código...
    }

    // Eventos de teclado para mover el personaje
    document.addEventListener('keydown', function(event) {
      if (!canMove) return; // Si el personaje no puede moverse, no hacer nada

      switch (event.key) {
        case 'a':
          character.style.backgroundImage = 'url(charwalkHOR1.png)';
          character.style.animation = 'moveAnimation 0.4s steps(4) infinite';
          moveCharacter('left');
          break;
        case 'd':
          character.style.backgroundImage = 'url(charwalkHOR1.png)';
          character.style.animation = 'moveAnimation 0.4s steps(4) infinite';
          moveCharacter('right');
          break;
        case 'w':
          character.style.backgroundImage = 'url(charwalkUP1.png)';
          character.style.animation = 'moveAnimation 0.4s steps(4) infinite';
          moveCharacter('up');
          break;
        case 's':
          character.style.backgroundImage = 'url(charwalkDO1.png)';
          character.style.animation = 'moveAnimation 0.4s steps(4) infinite';
          moveCharacter('down');
          break;
      }
    });

    // Evento de teclado para detener el personaje
    document.addEventListener('keyup', function(event) {
      character.style.animation = 'none';
      switch (event.key) {
        case 'a':
        case 'd':
          character.style.backgroundImage = 'url(charidleHOR.png)';
          break;
        case 'w':
          character.style.backgroundImage = 'url(charidleUP.png)';
          break;
        case 's':
          character.style.backgroundImage = 'url(charidleDO.png)';
          break;
      }
    });
  </script>
</body>
</html>
